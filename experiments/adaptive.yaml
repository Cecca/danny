---
environment:
  DANNY_THREADS: 8
  DANNY_HOSTS: "sss00:2001,sss01:2001,sss02:2001,sss03:2001,sss04:2001"
  DANNY_BASELINES_PATH: "/mnt/fast_storage/users/mcec/baselines.csv"
  DANNY_DATA_DIR: /mnt/fast_storage/users/mcec
  DANNY_SKETCH_EPSILON: 0.01
experiments:

## one round algorithm below

  - name: Glove adaptive
    tags:
      - cosine
      - adaptive
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SAMPLING_FACTOR: 5
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "one"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: cosine
      --sketch-bits: [64,128,256,512]
      --adaptive-k: 20
    arguments:
      - ["{{ dataset('Glove-27-200') }}", "{{ dataset('Glove-27-200') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - aol
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SAMPLING_FACTOR: 5
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "one"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 20
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('AOL') }}", "{{ dataset('AOL') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - orkut
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SAMPLING_FACTOR: 5
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "one"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 20
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('Orkut') }}", "{{ dataset('Orkut') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - livejournal
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SAMPLING_FACTOR: 5
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "one"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 20
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('Livejournal') }}", "{{ dataset('Livejournal') }}"]

  - name: GNews
    tags:
      - cosine
      - fixed
      - gnews
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SAMPLING_FACTOR: 5
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "one"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: cosine
      --sketch-bits: [64,128,256,512]
      --adaptive-k: "20"
    arguments:
      - ["{{ dataset('GNews') }}", "{{ dataset('GNews') }}"]

## multi round algorithm below

  - name: Glove adaptive
    tags:
      - cosine
      - adaptive
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "multi"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: cosine
      --sketch-bits: [64,128,256,512]
      --adaptive-k: 12,18
    arguments:
      - ["{{ dataset('Glove-27-200') }}", "{{ dataset('Glove-27-200') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - aol
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "multi"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 10,17
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('AOL') }}", "{{ dataset('AOL') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - orkut
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "multi"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 10,17
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('Orkut') }}", "{{ dataset('Orkut') }}"]

  - name: Bag of Words adaptive
    tags:
      - jaccard
      - adaptive
      - livejournal
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "multi"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: jaccard
      --adaptive-k: 10,17
      --sketch-bits: [64,128,256,512]
    arguments:
      - ["{{ dataset('Livejournal') }}", "{{ dataset('Livejournal') }}"]


  - name: GNews
    tags:
      - cosine
      - fixed
      - gnews
    environment:
      DANNY_COST_BALANCE: 0.99
      DANNY_SEED:
        - 13124534
    parameters:
      --rounds: "multi"
      --algorithm: lsh
      --range: [0.5,0.7,0.9]
      --measure: cosine
      --sketch-bits: [64,128,256,512]
      --adaptive-k: "11,20"
    arguments:
      - ["{{ dataset('GNews') }}", "{{ dataset('GNews') }}"]
